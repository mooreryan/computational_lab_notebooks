<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Ryan Moore">
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Ignoring actions - Computational Lab Notebooks</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Ignoring actions";
    var mkdocs_page_input_path = "tutorials/ignoring_actions.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  
    
  

  

  
    
  

  
    
  


<meta property="og:site_name" content="Ignoring actions - Computational Lab Notebooks" />

<meta property="og:type" content="website">

<meta property="og:title" content="Ignoring actions - Computational Lab Notebooks">

<meta property="description" content="In this tutorial, we demonstrate how to ignore previously prepared actions using the cln command line app for computational lab notebooks.">
<meta property="og:description" content="In this tutorial, we demonstrate how to ignore previously prepared actions using the cln command line app for computational lab notebooks.">
<meta name="twitter:description" content="In this tutorial, we demonstrate how to ignore previously prepared actions using the cln command line app for computational lab notebooks.">

<meta property="og:url" content="https://mooreryan.github.io/computational_lab_notebooks/tutorials/ignoring_actions/">
<link rel="canonical" href="https://mooreryan.github.io/computational_lab_notebooks/tutorials/ignoring_actions/">

<meta property="og:locale" content="en_US">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Ignoring actions - Computational Lab Notebooks">

  


  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Computational Lab Notebooks</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Computational Lab Notebooks</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../usage/">Usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../git/">Just Enough Git</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Examples & Tutorials</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../basic_usage/">Basic usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../correcting_failed_actions/">Correcting failed actions</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Ignoring actions</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#set-up">Set up</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#prepare-an-action">Prepare an action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dry-run">Dry run</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#remove-action-with-delete-method">Remove action with delete method</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#remove-action-with-ignore-method">Remove action with ignore method</a>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Computational Lab Notebooks</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Examples & Tutorials &raquo;</li>
        
      
    
    <li>Ignoring actions</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="ignoring-actions">Ignoring actions</h1>
<p>Sometimes you prepare an action, only to realize that for whatever
reason, you don't actually want to run the action.</p>
<p>For a more in depth tutorial about removing actions, see the <a href="../correcting_failed_actions/">failed
actions</a> tutorial.</p>
<h2 id="set-up">Set up</h2>
<p>First, let's set everything up.</p>
<pre><code>$ mkdir silly_project &amp;&amp; cd silly_project
$ cln init 'Silly Project'
</code></pre>
<h2 id="prepare-an-action">Prepare an action</h2>
<p>And prepare a bogus action.</p>
<pre><code>$ cln prepare 'printfff &quot;hello, world\n&quot; &gt; hello.txt'
</code></pre>
<h2 id="dry-run">Dry run</h2>
<p>Next, we do a dry run to see if everything looks okay.</p>
<pre><code>$ cln run -dry-run
~~~
~~~
~~~ Hi!  I just previewed an action for you.
~~~
~~~ I plan to run this action file:
~~~   '.actions/pending/action__431785600__2021-04-09_21:38:08.sh'
~~~
~~~ It's contents are:
~~~
printfff &quot;hello, world\n&quot; &gt; hello.txt

~~~
~~~ If that looks good, you can run the action:
~~~   $ cln run
~~~
~~~
</code></pre>
<p>Oh no!  Do you see in the preview how we made a mistake?  We typed
<code>printfff</code> instead of <code>printf</code>.  We know this won't work so we won't
even bother trying to run the action.  We will just remove it.</p>
<h2 id="remove-action-with-delete-method">Remove action with <code>delete</code> method</h2>
<p>Since it is just a typing mistake, we don't really care about keeping
that action around, so we will use the <code>-method delete</code> option to just
straight delete the action.  First, here is what's in the <code>.actions</code>
directory.</p>
<pre><code>$ tree .actions/
.actions/
├── completed
├── failed
├── ignored
└── pending
    ├── action__431785600__2021-04-09_21:38:08.gc_template.txt
    └── action__431785600__2021-04-09_21:38:08.sh
</code></pre>
<p>And now, remove the action.</p>
<pre><code>$ cln remove -method delete
$ tree .actions
.actions/
├── completed
├── failed
├── ignored
└── pending
</code></pre>
<p>As you see the action and the commit template are gone.</p>
<h2 id="remove-action-with-ignore-method">Remove action with <code>ignore</code> method</h2>
<p>Sometimes you may need to remove an pending action, but you don't want
to just delete it outright.  In these cases, you can use the <code>-method
ignore</code> option.  Rather than delete the action, it will be moved from
the <code>pending</code> directory to the <code>ignored</code> directory.</p>
<p>Here is an example.</p>
<pre><code>$ cln prepare 'printfff &quot;hello, world\n&quot; &gt; hello.txt'
$ tree .actions/
.actions/
├── completed
├── failed
├── ignored
└── pending
    ├── action__431785600__2021-04-09_21:51:51.gc_template.txt
    └── action__431785600__2021-04-09_21:51:51.sh

$ cln remove -method ignore
~~~
~~~
~~~ Hi!  I just removed a pending action for you.
~~~
~~~ * The action is now here '.actions/ignored/action__431785600__2021-04-09_21:51:51.sh'.
~~~ * The template is now here '.actions/ignored/action__431785600__2021-04-09_21:51:51.gc_template.txt'.
~~~
~~~ Now, there are a couple of things you should do.
~~~
~~~ * Check which files have changed:
~~~     $ git status
~~~ * Add actions and commit templates (I know it says add--it means &quot;track this change with git&quot;):
~~~     $ git add .actions
~~~ * After &quot;adding&quot; files, commit changes:
~~~     $ git commit
~~~
~~~ You should explain in the commit message why you needed to remove
~~~ the action.  It will help you later when you're going through the
~~~ git logs!
~~~
~~~ After that you are good to go!
~~~
~~~ * You can now check the logs with git log,
~~~   or use a GUI like gitk to view the history.
~~~
~~~
$ tree .actions/
.actions/
├── completed
├── failed
├── ignored
│   ├── action__431785600__2021-04-09_21:51:51.gc_template.txt
│   └── action__431785600__2021-04-09_21:51:51.sh
└── pending
</code></pre>
<p>Since we used <code>ignore</code> rather than <code>delete</code>, we probably had a good
reason to keep the action around even though we didn't want to run it.
Maybe you typed in the wrong name for an output file, or decided that
some flags you passed to the program you wanted to run needing to be
changed.  Regargless, if you think it is worth keeping the action, you
should commit it to the lab notebook repository and put a descriptive
commit message.</p>
<p><em>Note that the <code>cln remove</code> command even suggests that you do this!</em></p>
<pre><code>$ git status
$ git add .actions/
$ git status
On branch master
Changes to be committed:
  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)
    new file:   .actions/ignored/action__431785600__2021-04-09_21:51:51.gc_template.txt
    new file:   .actions/ignored/action__431785600__2021-04-09_21:51:51.sh
$ git commit -m &quot;Ignore the printf action

For some reason, I decided it was best not to run this. Blah blah blah
longish description so I remember why it is important and what I
learned.&quot;
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../correcting_failed_actions/" class="btn btn-neutral" title="Correcting failed actions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../correcting_failed_actions/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
